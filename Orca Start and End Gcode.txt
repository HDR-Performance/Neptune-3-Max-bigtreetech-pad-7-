; Orca Start G-Code


M117 Initializing print

; Turn on LED at 90% brightness (optional)
SET_LED LED=LED_Light WHITE=0.90 SYNC=0 TRANSMIT=1

; Home all axes
G28 ; Home X, Y, Z
G90 ; Set absolute positioning
G92 E0 ; Reset extruder position

; Smart Park near print area
SMART_PARK ; Park at Z=10 mm near objects
; Heat bed and wait
M140 S[first_layer_bed_temperature] ; Start heating bed
M190 S[first_layer_bed_temperature] ; Wait for bed temp

; KAMP adaptive meshing setup and execution (nozzle still cold to prevent oozing)
BED_MESH_CALIBRATE ADAPTIVE=1 ; Adaptive mesh within print area (e.g., 33,16 to 397,415)

; Smart Park again after meshing
SMART_PARK ; Park at Z=10 mm near objects

; Heat hotend and wait (now in parked position)
M104 S[first_layer_temperature] ; Start heating extruder
M109 S[first_layer_temperature] ; Wait for extruder temp

; Adaptive purge
LINE_PURGE ; Purge 30 mm near print area

; Reset extruder position for print
G92 E0 ; Reset extruder position post-purge
M117 Printing...

; End G-Code for Neptune 3 Max with Klipper and KAMP in Orca Slicer
M117 Finishing print

; Turn off heaters
M104 S0                        ; Turn off extruder
M140 S0                        ; Turn off bed

; Lift Z and move to present print at Y=313
G91                            ; Relative positioning
G1 Z10 F600                    ; Lift Z by 10 mm
G90                            ; Absolute positioning
G0 X0 Y313 F12000              ; Move to X=0, Y=313 (present print)

; Disable motors and clear mesh
M84                            ; Disable steppers
BED_MESH_CLEAR                 ; Clear adaptive mesh for next print

; Turn off LED
SET_LED LED=LED_Light WHITE=0 SYNC=0 TRANSMIT=1

; Optional: Wake screen (uncomment if using SCREEN_WAKE)
; SCREEN_WAKE

M117 Print complete!








